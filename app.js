let hadith = {
    "Sahih Bukari": {
        "8": `Narrated Ibn 'Umar:
        Allah's Messenger (ﷺ) said: Islam is based on (the following) five (principles):\n
        1. To testify that none has the right to be worshipped but Allah and Muhammad is Allah's Messenger (ﷺ).\n2. To offer the (compulsory congregational) prayers dutifully and perfectly.\n3. To pay Zakat (i.e. obligatory charity) .\n
        4. To perform Hajj. (i.e. Pilgrimage to Mecca).\n5. To observe fast during the month of Ramadan.\n`,

        "Book 2, Hadith 3": `The Prophet (ﷺ) said, "A Muslim is the one who avoids harming Muslims with his tongue and hands. And a Muhajir (emigrant) is the one who gives up (abandons) all what Allah has forbidden."`,
        "22": `The Prophet (ﷺ) said, "When the people of Paradise will enter Paradise and the people of Hell will go to Hell, Allah will order those who have had faith equal to the weight of a grain of mustard seed to be taken out from Hell. So they will be taken out but (by then) they will be blackened (charred). Then they will be put in the river of Haya' (rain) or Hayat (life) (the Narrator is in doubt as to which is the right term), and they will revive like a grain that grows near the bank of a flood channel. Don't you see that it comes out yellow and twisted"`,
        "33": `The Prophet (ﷺ) said, "The signs of a hypocrite are three:

        1. Whenever he speaks, he tells a lie.
        
        2. Whenever he promises, he always breaks it (his promise ).
        
        3. If you trust him, he proves to be dishonest. (If you keep something as a trust with him, he will not return it.)"`,

        "35": `Allah's Messenger (ﷺ) said, "Whoever establishes the prayers on the night of Qadr out of sincere faith and hoping to attain Allah's rewards (not to show off) then all his past sins will be forgiven."`,
        "38": `Allah's Messenger (ﷺ) said, "Whoever observes fasts during the month of Ramadan out of sincere faith, and hoping to attain Allah's rewards, then all his past sins will be forgiven."`,
        "39": `The Prophet (ﷺ) said, "Religion is very easy and whoever overburdens himself in his religion will not be able to continue in that way. So you should not be extremists, but try to be near to perfection and receive the good tidings that you will be rewarded; and gain strength by worshipping in the mornings, the afternoons, and during the last hours of the nights."`,
        "5009": `Narrated Abu Mas'ud:

        The Prophet (ﷺ) said, "If somebody recited the last two Verses of Surat Al-Baqara at night, that will be sufficient for him."`,

    },
    "Riyadh As-Salihin": {
        "Book 16, Hadith 10 1474": `The Messenger of Allah (ﷺ) used to supplicate: "Allahumma inni a'udhu bika minal-ajzi wal- kasali, wal-jubni wal-harami, wal-bukhli, wa a'udhu bika min 'adhabil- qabri, wa a'udhu bika min fitnatil-mahya wal-mamat [O Allah! I seek refuge in You from helplessness (to do good), indolence, cowardice, senility, and miserliness; and I seek Your Protection against the torment of the grave and the trials of life and death]." Another narration adds: "wa dala'id-daini wa ghalabatir-rijal (And from the burden of indebtedness and the tyranny of men)."`,
    }
};

let ayah = {
    "Al Baqarah": {
        "21": `O mankind, worship your Lord, who created you and those before you, that you may become righteous `,
        "156": `Who, when disaster strikes them, say, "Indeed we belong to Allah, and indeed to Him we will return."`,
        "2": `This is the Book about which there is no doubt, a guidance for those conscious of Allāh`
    },
    "Al Fath": {
        "1": `(O Prophet), surely We have granted you a clear victory`
    },
    "Al-Anbya": {
        "35": `Every soul will taste death. And We test you with evil and with good as trial; and to Us you will be returned.`
    }
    ,
    "Ad Duha": {
        "4": `Indeed what is to come will be better for you than what has gone by.`,
        "7": `And He found you lost and guided [you]`,
        "8": `And He found you lost and guided [you],`
    },
    "At Taubah": {
        "4": `Do not grieve; indeed Allāh is with us.`,
    },
    "Al-Isra": {
        "36": `And do not pursue that of which you have no knowledge. Indeed, the hearing, the sight and the heart - about all those [one] will be questioned.`
    },
    "Al Kafh": {
        "18": `It is We who relate to you, [O Muḥammad], their story in truth. Indeed, they were youths who believed in their Lord, and We increased them in guidance.`,
        "23, 24": `And never say of anything, "Indeed, I will do that tomorrow". Except [when adding], "If Allāh wills." And remember your Lord when you forget [it] and say, "Perhaps my Lord will guide me to what is nearer than this to right conduct."`
    },
    "Al Ankabut": {
        "56": `O My servants who have believed, indeed My earth is spacious, so worship only Me.`,
        "57": `Every soul will taste death. Then to Us will you be returned.`,
        "58": `And those who have believed and done righteous deeds - We will surely assign to them of Paradise [elevated] chambers beneath which rivers flow, wherein they abide eternally. Excellent is the reward of the [righteous] workers`
    },
    "Al Hadid": {
        "18": `Indeed, the men who practice charity and the women who practice charity and [they who] have loaned Allāh a goodly loan - it will be multiplied for them, and they will have a noble reward.`,
    }
}

let dua = {
    "Jami'at Tirmidhi": {
        "3524": `Anas bin Malik said:
        “Whenever a matter would distress him, the Prophet (ﷺ) would say: ‘O Living, O Self-Sustaining Sustainer! In Your Mercy do I seek relief (Yā Ḥayyu yā Qayyūm, bi-raḥmatika astaghīth).’” And with this chain, 
        that he said: “The Messenger of Allah (ﷺ) said: ‘Be constant with: “O Possessor of Majesty and Honor (Yā Dhal-Jalāli wal-Ikrām).’”`,
        "3460": `Abdullah bin Amr narrated that :
        the Messenger of Allah (ﷺ) said: “there is not anyone upon the earth who says: ‘None has the right to be worshipped but Allah, and Allah is the Greatest, and there is no might nor power except by Allah, (Lā ilāha illallāh, wa Allāhu akbar, wa lā ḥawla wa lā quwwata illā billāh) except that his sins shall be pardoned, even if they were like the foam of the sea.”`,
        "3173": `Narrated 'Umar bin Al-Khattab [may Allah be pleased with him]:
        "When revelation came to the Messenger of Allah (ﷺ), one could hear what sounded like the drone of bees before his face. One day revelation was coming to him, he faced the Qiblah, raised his hands and said: 'O Allah! Increase us, do not diminish us. Favor us, do not withhold from us, make us pleased and be pleased with us.' He (ﷺ) said: 'Ten Ayah were revealed to me, whoever abides by them shall enter Paradise (and they are): 'Successful indeed are the believers...' until the completion of ten Ayat (23:1-10)."
        (Another route) from AzZuhri with this chain.`,
        "3490": `the Messenger of Allah (ﷺ) said: “It used to be from the supplication of Dawud that he would say: ‘O Allah, indeed, I ask You for Your love and the love of those who love You, and for the action that will cause me to attain Your love, O Allah, make Your love more beloved to me than myself, my family and cold water (Allāhumma innī as’aluka ḥubbaka wa ḥubba man yuḥibbuka wal-amalalladhī yuballighunī ḥubbak.Allāhummaj al ḥubbaka aḥabba ilaiyya min nafsī, wa ahlī wa minal-mā’il-bārid) He said: “And when the Prophet (ﷺ) would mention Dawud, he would narrate about him, saying: “He was the best in worship out of all men.”`,
        "1071": `Abu Hurairah narrated that:
The Messenger of Allah said: "When the deceased - or he said when one of you - is buried, two angels, black and blue (eyed_ come to him. One of them is called Al-Munkar, and the other An-Nakir. They say: 'What did you used to say about this man?' So he says what he was saying (before death) 'He is Allah's slave and His Messenger. I testify that none has the right to be worshipped but Allah and that Muhammad is His slave and His Messenger.' So they say: 'We knew that you would say this.' Then his grave is expanded to seventy by seventy cubits, then it is illuminated for him. Then it is said to him: 'Sleep.' So he said: 'Can I return to my family to inform them?' They say: 'Sleep as a newlywed, whom none awakens but the dearest of his family.' Until Allah resurrects him from his resting place.""If he was a hypocrite he would say: 'I heard people saying something, so I said the same; I do not know.' So they said: 'We knew you would say that.' So the earth is told: 'Constrict him.' So it constricts around him, squeezing his ribs together. He continues being punished like that until Allah resurrects him from his resting place."`,

    },
    "Sahih Bukhari": {
        "6325": `Narrated Abu Dhar:
        Whenever the Prophet (ﷺ) lay on his bed, he used to say: "Allahumma bismika amutu wa ahya," and when he woke up he would say: "Al-hamdu lil-lahilladhi ahyana ba'da ma an atana, wa ilaihi an-nushur."`
    },
}




let keys = Object.keys(hadith);
let randomKey = keys[Math.floor(Math.random() * keys.length)];
let randomSubkey = Object.keys(hadith[randomKey])[Math.floor(Math.random() * Object.keys(hadith[randomKey]).length)];
document.getElementById("hadith").innerHTML = `<p> ${randomKey}  ${randomSubkey} </p> `;
document.getElementById("hadithref").innerHTML = `<p> ${hadith[randomKey][randomSubkey]}</p > `;



let keys2 = Object.keys(ayah);
let randomKey2 = keys2[Math.floor(Math.random() * keys2.length)];
let randomSubkey2 = Object.keys(ayah[randomKey2])[Math.floor(Math.random() * Object.keys(ayah[randomKey2]).length)];
document.getElementById("ayah").innerHTML = `<p> Surah ${randomKey2}, Verse ${randomSubkey2}</p > `;
document.getElementById("ayahref").innerHTML = `<p> ${ayah[randomKey2][randomSubkey2]}</p > `;


let keys3 = Object.keys(dua);
let randomKey3 = keys3[Math.floor(Math.random() * keys3.length)];
let randomSubkey3 = Object.keys(dua[randomKey3])[Math.floor(Math.random() * Object.keys(dua[randomKey3]).length)];
document.getElementById("dua").innerHTML = `<p> ${randomKey3} ${randomSubkey3}</p > `;
document.getElementById("duaref").innerHTML = `<p> ${dua[randomKey3][randomSubkey3]}</p > `;

function gmod(n, m) {
    return ((n % m) + m) % m;
}

function kuwaiticalendar(adjust) {
    var today = new Date();
    if (adjust) {
        adjustmili = 1000 * 60 * 60 * 24 * adjust;
        todaymili = today.getTime() + adjustmili;
        today = new Date(todaymili);

    }

    //         y = today.getDate();

    var sunset = document.getElementById("sunset").innerHTML;

    day = today.getDate();
    console.log(Date.now());
    console.log(sunset);
    console.log(day);
    month = today.getMonth();
    year = today.getFullYear();
    m = month + 1;
    y = year;
    if (m < 3) {
        y -= 1;
        m += 12;
    }

    a = Math.floor(y / 100.);
    b = 2 - a + Math.floor(a / 4.);
    if (y < 1583) b = 0;
    if (y == 1582) {
        if (m > 10) b = -10;
        if (m == 10) {
            b = 0;
            if (day > 4) b = -10;
        }
    }

    jd = Math.floor(365.25 * (y + 4716)) + Math.floor(30.6001 * (m + 1)) + day + b - 1524;

    b = 0;
    if (jd > 2299160) {
        a = Math.floor((jd - 1867216.25) / 36524.25);
        b = 1 + a - Math.floor(a / 4.);
    }
    bb = jd + b + 1524;
    cc = Math.floor((bb - 122.1) / 365.25);
    dd = Math.floor(365.25 * cc);
    ee = Math.floor((bb - dd) / 30.6001);
    day = (bb - dd) - Math.floor(30.6001 * ee);
    month = ee - 1;
    if (ee > 13) {
        cc += 1;
        month = ee - 13;
    }
    year = cc - 4716;

    if (adjust) {
        wd = gmod(jd + 1 - adjust, 7) + 1;
    } else {
        wd = gmod(jd + 1, 7) + 1;
    }

    iyear = 10631. / 30.;
    epochastro = 1948084;
    epochcivil = 1948085;

    shift1 = 8.01 / 60.;

    z = jd - epochastro;
    cyc = Math.floor(z / 10631.);
    z = z - 10631 * cyc;
    j = Math.floor((z - shift1) / iyear);
    iy = 30 * cyc + j;
    z = z - Math.floor(j * iyear + shift1);
    im = Math.floor((z + 28.5001) / 29.5);
    if (im == 13) im = 12;
    id = z - Math.floor(29.5001 * im - 29);

    var myRes = new Array(8);

    myRes[0] = day; //calculated day (CE)
    myRes[1] = month - 1; //calculated month (CE)
    myRes[2] = year; //calculated year (CE)
    myRes[3] = jd - 1; //julian day number
    myRes[4] = wd - 1; //weekday number
    myRes[5] = id; //islamic date
    myRes[6] = im - 1; //islamic month
    myRes[7] = iy; //islamic     year

    return myRes;
}
function writeIslamicDate(adjustment) {
    var wdNames = new Array("Ahad", "Ithnin", "Thulatha", "Arbaa", "Khams", "Jumuah", "Sabt");
    var iMonthNames = new Array("Muharram", "Safar", "Rabi'ul Awwal", "Rabi'ul Akhir",
        "Jumadal Ula", "Jumadal Akhira", "Rajab", "Sha'ban",
        "Ramadan", "Shawwal", "Dhul Qa'ada", "Dhul Hijja");

    var iDate = kuwaiticalendar(adjustment);
    var outputIslamicDate = wdNames[iDate[4]] + ", "
        + iDate[5] + " " + iMonthNames[iDate[6]] + " " + iDate[7] + " AH";


    return outputIslamicDate;
}

document.getElementById("islamicDate").innerHTML = writeIslamicDate(-1);